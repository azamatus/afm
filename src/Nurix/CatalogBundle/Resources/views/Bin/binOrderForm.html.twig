{% extends "::base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset("bundles/catalog/css/bin-order.css") }}" rel="stylesheet">
{% endblock stylesheets %}

{% block javascripts %}
    {{ parent() }}

    <script type="text/javascript" >
        $(function(){
            if ($("#bin_clients_delivery").is(':checked')){
                $("#order-form-address").css("display", "block");
                $("#order-form-date").css("display", "block");
            }
            $("#bin_clients_delivery").click(function(){
                if ($(this).is(':checked')){
                    $("#order-form-address").css("display", "block");
                    $("#order-form-date").css("display", "block");
                }else{
                    $("#order-form-address").css("display", "none");
                    $("#order-form-date").css("display", "none");
                }
            })
        });
    </script>
{% endblock javascripts %}

{% block body %}
    <h2>Форма оформления заказа</h2>

    {% if app.session.hasFlash('notice') %}
    <div class="flash-notice">
        {{ app.session.flash('notice') }}
    </div>
    {% else %}
    <form action="{{ path("nurix_bin_order_form") }}" method="post" id="order-form">
        <div id="order-form-fio">
            {{ form_label(form.fio) }}
            {{ form_widget(form.fio) }}
        </div>
        <div id="order-form-phone">
            {{ form_label(form.phone) }}
            {{ form_widget(form.phone) }}
        </div>
        <div id="order-form-email">
            {{ form_label(form.email) }}
            {{ form_widget(form.email) }}
        </div>
        <div id="order-form-delivery">
            {{ form_label(form.delivery) }}
            {{ form_widget(form.delivery) }}
        </div>
        <div id="order-form-address" style="display: none;">
            {{ form_label(form.address) }}
            {{ form_widget(form.address) }}
        </div>
        <div id="order-form-date" style="display: none;">
            {{ form_label(form.delivery_time) }}
            {{ form_widget(form.delivery_time) }}
        </div>
        {{ form_errors(form) }}
        {{ form_rest(form) }}
        <input type="submit" value="Сохранить" class="link-btn">
    </form>
    {% endif %}
{% endblock body %}